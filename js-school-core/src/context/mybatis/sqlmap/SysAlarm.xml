<?xml version="1.0" encoding="UTF-8"?>  <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- namespace：必须与对应的接口全类名一致 id:必须与对应接口的某个对应的方法名一致 --><mapper namespace="com.hikootech.mqcash.dao.SysAlarmDAO">	<resultMap type="com.hikootech.mqcash.po.SysAlarm" id="SysAlarmResultMap">		<result property="alarmId" column="alarm_id"/>		<result property="alarmSystem" column="alarm_system"/>		<result property="alarmLevel" column="alarm_level"/>		<result property="alarmNoticeType" column="alarm_notice_type"/>		<result property="alarmContent" column="alarm_content"/>		<result property="sendStatus" column="send_status"/>		<result property="emailType" column="email_type"/>		<result property="sendTime" column="send_time"/>		<result property="createTime" column="create_time"/>	</resultMap>	<!-- 插入告警表信息 -->	<insert id="insertSysAlarmPo" parameterType="com.hikootech.mqcash.po.SysAlarm">		insert into t_sys_alarm(	 		alarm_id,	 		alarm_system,	 		alarm_level,	 		alarm_notice_type,	 		alarm_content,	 		email_type,	 		send_status,	 		send_time,	 		create_time	 		)  	 	values(	 		#{alarmId},	 		#{alarmSystem},	 		#{alarmLevel},	 		#{alarmNoticeType},	 		#{alarmContent},	 		#{emailType},	 		#{sendStatus},	 		#{sendTime},	 		#{createTime}	 		)	</insert>		<select id="querySysAlarmRule" resultType="com.hikootech.mqcash.po.SysAlarmRule">		select rule_second ruleSecond ,rate ,cycle_time cycleTime from t_sys_alarm_rule t where t.rule_type = #{ruleType}	</select>	<!-- 征信成功率 -->	<select id="queryCreditSucList" resultType="java.lang.String">		select ((SELECT COUNT(distinct t.id_card) passed		FROM t_user_credit_record t 		WHERE t.is_pass = 0 AND <![CDATA[t.create_time >= #{startDate} AND t.create_time <= #{endDate}]]>)/(select count(distinct s.id_card) 		from t_user_credit_record s 		wHERE  <![CDATA[s.create_time >= #{startDate} AND s.create_time <= #{endDate}]]>)	) as per from dual		</select>	<!-- 绑卡中比率 -->	<select id="queryBindingCardList" resultType="java.lang.String">		select ((SELECT COUNT(*) passed		FROM t_request_validate_bank_card_log t		WHERE t.bind_status = 3 and t.operation_type = 1 AND <![CDATA[t.create_time >= #{startDate} AND t.create_time <= #{endDate}]]>)/(select count(*) 		from t_request_validate_bank_card_log s 		wHERE  s.operation_type = 1  and  <![CDATA[s.create_time >= #{startDate} AND s.create_time <= #{endDate}]]>)		) as per from dual	</select>		<!-- 下单完成率 -->	<select id="queryOrderFinishList" resultType="java.lang.String">				select ((select COUNT(*)  from t_syn_order_interface_access_log s 				WHERE  <![CDATA[s.create_time >= #{startDate} AND s.create_time <=  #{endDate}]]>) /(			SELECT COUNT(*) passed		FROM t_user_total_info t		WHERE t.instalment_id is not null AND <![CDATA[t.create_time >= #{startDate} AND t.create_time <= #{endDate}]]>) )  per from dual								</select></mapper>